# Infrastructure

## TODO to complete setup

1. check capistrano/config/deploy.rb and check `linked_files` and `linked_dirs`

## Provisioning

Install [`ansible`](http://docs.ansible.com/ansible/intro_installation.html)

```
  cd ansible
  ansible-galaxy install -r requirements.yml
```

### Provisioning on vagrant

Install [`vagrant`](https://www.vagrantup.com/docs/installation/)

```
  vagrant up --provision # Then visit http://<%= vagrant_app_machine.vm_hostname %>
```

## Deploying

Install `ruby`
Install `bundler` gem

```
  cd capistrano
  bundle install
  bundle exec cap vagrant deploy # Then visit http://<%= vagrant_app_machine.vm_hostname %>
  bundle exec cap production deploy
```